函数是基本的代码块, 用于执行一个任务

`Go语言`最少有个 `main()` 函数

#### 函数定义

```go
/**
func: 函数由func开始声明
function_name: 函数名称，参数列表和返回值类型构成了函数签名
parameter_list: 参数列表，参数就像一个占位符，当函数被调用时，你可以将值传递给参数，这个值被称为实际参数。参数列表指定的是参数类型、顺序、及参数个数。参数是可选的，也就是说函数也可以不包含参数
return_types: 返回类型, 函数返回一列值。return_types 是该列值的数据类型 有些功能不需要返回值，这种情况下 return_types 不是必须的。
函数体: 函数定义的代码集合
*/
func function_name([parameter list]) [return_types] {
  // 函数体
}

// 函数返回两个数的最大值
func max(num1, num2 int) int {
  // 声明局部变量
  var result int

  if(num1 > num2) {
    result = num1
  } else {
    result = num2
  }

  return result
}
```

#### 可变参数函数

可变参数函数可以接受任意数量的参数, 这些参数被看做是一个切片类型. 可变参数函数的定义方式为在函数名后面加上`...`和参数类型

- 可变参数必须是最后一个参数
- 可变参数的参数类型必须一致

```go
func myFunc(args ...int) {
// 函数体
}

myFunc(1, 2, 3)
myFunc(1, 2, 3, 45,6)
```

#### 匿名函数
Golang支持使用匿名函数，即在函数内部定义一个没有名称的函数

```go
func main() {
  add := func (x, y int) int {
    return x + y
  }
  result := add(1, 2)
  fmt.Println(result)
}
```

#### Golang 闭包

闭包是指一个函数可以访问其外部作用域中的变量

闭包可以在函数中创建, 也可以作为函数的返回值返回. 闭包函数可以访问定义在外部函数中的变量, 既使这些变量在外部函数返回后也可以继续访问.
这种特性使得闭包函数非常灵活和强大, 可以方便地实现一些需要记住状态伙持久化状态的算法和数据结构



```go
func addFunc() func(int) int {
	sum := 0
	return func(x int) int {
		sum += x
		return sum
	}
}

// 使用闭包
add1 := addFunc()
println(add1(10)) // 10
println(add1(20)) // 30
println(add1(30)) // 60
```

### defer

defer 语句用于在函数返回前执行某些操作, 例如关闭文件或释放资源. defer 语句可以用来简化一些常见的工作流程, 例如打开-使用-关闭模式

#### 函数调用

当创建函数时，你定义了函数需要做什么，通过调用该函数来执行指定任务。

调用函数，向函数传递参数，并返回值

```go
package main

func main() {
  // 定义局部变量
  var a int = 100
  var b int = 100
  var ret int

  ret = max(a, b)
}
```

#### 函数返回多个值

```go
package main
import "fmt"

func swap(x, y string) (string, string) {
  return y, x
}

func main() {
  a, b := swap("yym", "dd")
  fmt.Println(a,b)
}
```

#### 函数作为参数




#### 函数参数

函数如果使用参数, 该变量可以称为函数的形参, 形参就像定义在函数体内的局部变量. 默认情况下, Go语言使用的是值传递

1. 值传递

值传递是指在调用函数时将实际参数复制一份传递到函数中，这样在函数中如果对参数进行修改，将不会影响到实际参数。

2. 引用传递

引用传递是指在调用函数时将实际参数的地址传递到函数中，那么在函数中对参数所进行的修改，将影响到实际参数


---

### 变量作用域

作用域为已声明标识符所表示的常量, 类型, 变量, 函数或抱在源代码中的作用范围

Go 语言中变量可以在三个地方声明:

- 函数内定义的变量称为局部变量
- 函数外定义的变量称为全局变量
- 函数定义中的变量称为形式参数

#### 局部变量

函数体内声明的变量称之为局部变量，它们的作用域只在函数体内，参数和返回值变量也是局部变量

#### 全局变量

在函数体外声明的变量称之为全局变量，全局变量可以在`整个包甚至外部包`（被导出后）使用

全局变量可以在`任何函数中`使用

Go 语言程序中全局变量与局部变量名称可以相同，但是函数内的局部变量会被优先考虑


#### 形式参数

形式参数会作为函数的局部变量来使用

#### 初始化局部和全局变量
数据类型  初始化默认值
- int -> 0
- float32 -> 0
- pointer -> nil